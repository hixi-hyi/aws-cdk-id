"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
/* tslint:disable:no-shadowed-variable */
const lib_1 = require("../lib");
describe('Identifier', () => {
    it('identifier', () => {
        const id = new lib_1.Identifier({
            empire: 'company',
            kingdom: 'depertment',
            division: 'project',
            section: 'environment',
            legion: 'usage1',
            cohort: 'usage2',
        });
        lib_1.Rank.DEFAULT_START_LOC = lib_1.RankLoc.Legion;
        expect(id.stackId).toBe('Usage1Usage2');
        expect(() => { return id.constructId; }).toThrow();
        id.child({ family: 'webapp' }).scope((id) => {
            expect(id.stackId).toBe('Usage1Usage2Webapp');
            expect(() => { return id.constructId; }).toThrow();
            expect(id.exportName('Name')).toBe('Usage1Usage2Webapp:Name');
            id.child('construct').scope((id) => {
                expect(id.stackId).toBe('Usage1Usage2Webapp');
                expect(id.constructId).toBe("Construct");
                expect(id.exportName('Name')).toBe('Usage1Usage2Webapp:Construct:Name');
            });
        });
    });
});
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiaWRlbnRpZmllci5qcyIsInNvdXJjZVJvb3QiOiIiLCJzb3VyY2VzIjpbIi4uLy4uL3Rlc3QvaWRlbnRpZmllci50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiOztBQUFBLHlDQUF5QztBQUN6QyxnQ0FBbUQ7QUFFbkQsUUFBUSxDQUFDLFlBQVksRUFBRSxHQUFHLEVBQUU7SUFDMUIsRUFBRSxDQUFDLFlBQVksRUFBRSxHQUFHLEVBQUU7UUFDcEIsTUFBTSxFQUFFLEdBQUcsSUFBSSxnQkFBVSxDQUFDO1lBQ3hCLE1BQU0sRUFBRSxTQUFTO1lBQ2pCLE9BQU8sRUFBRSxZQUFZO1lBQ3JCLFFBQVEsRUFBRSxTQUFTO1lBQ25CLE9BQU8sRUFBRSxhQUFhO1lBQ3RCLE1BQU0sRUFBRSxRQUFRO1lBQ2hCLE1BQU0sRUFBRSxRQUFRO1NBQ2pCLENBQUMsQ0FBQztRQUNILFVBQUksQ0FBQyxpQkFBaUIsR0FBRyxhQUFPLENBQUMsTUFBTSxDQUFDO1FBQ3hDLE1BQU0sQ0FBQyxFQUFFLENBQUMsT0FBTyxDQUFDLENBQUMsSUFBSSxDQUFDLGNBQWMsQ0FBQyxDQUFDO1FBQ3hDLE1BQU0sQ0FBQyxHQUFHLEVBQUUsR0FBRyxPQUFPLEVBQUUsQ0FBQyxXQUFXLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxPQUFPLEVBQUUsQ0FBQztRQUVuRCxFQUFFLENBQUMsS0FBSyxDQUFDLEVBQUMsTUFBTSxFQUFFLFFBQVEsRUFBQyxDQUFDLENBQUMsS0FBSyxDQUFDLENBQUMsRUFBYyxFQUFFLEVBQUU7WUFDcEQsTUFBTSxDQUFDLEVBQUUsQ0FBQyxPQUFPLENBQUMsQ0FBQyxJQUFJLENBQUMsb0JBQW9CLENBQUMsQ0FBQztZQUM5QyxNQUFNLENBQUMsR0FBRyxFQUFFLEdBQUcsT0FBTyxFQUFFLENBQUMsV0FBVyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsT0FBTyxFQUFFLENBQUM7WUFDbkQsTUFBTSxDQUFDLEVBQUUsQ0FBQyxVQUFVLENBQUMsTUFBTSxDQUFDLENBQUMsQ0FBQyxJQUFJLENBQUMseUJBQXlCLENBQUMsQ0FBQztZQUU5RCxFQUFFLENBQUMsS0FBSyxDQUFDLFdBQVcsQ0FBQyxDQUFDLEtBQUssQ0FBQyxDQUFDLEVBQWMsRUFBRSxFQUFFO2dCQUM3QyxNQUFNLENBQUMsRUFBRSxDQUFDLE9BQU8sQ0FBQyxDQUFDLElBQUksQ0FBQyxvQkFBb0IsQ0FBQyxDQUFDO2dCQUM5QyxNQUFNLENBQUMsRUFBRSxDQUFDLFdBQVcsQ0FBQyxDQUFDLElBQUksQ0FBQyxXQUFXLENBQUMsQ0FBQztnQkFDekMsTUFBTSxDQUFDLEVBQUUsQ0FBQyxVQUFVLENBQUMsTUFBTSxDQUFDLENBQUMsQ0FBQyxJQUFJLENBQUMsbUNBQW1DLENBQUMsQ0FBQztZQUMxRSxDQUFDLENBQUMsQ0FBQztRQUNMLENBQUMsQ0FBQyxDQUFDO0lBQ0wsQ0FBQyxDQUFDLENBQUM7QUFDTCxDQUFDLENBQUMsQ0FBQyIsInNvdXJjZXNDb250ZW50IjpbIi8qIHRzbGludDpkaXNhYmxlOm5vLXNoYWRvd2VkLXZhcmlhYmxlICovXG5pbXBvcnQgeyBJZGVudGlmaWVyLCBSYW5rLCBSYW5rTG9jIH0gZnJvbSAnLi4vbGliJztcblxuZGVzY3JpYmUoJ0lkZW50aWZpZXInLCAoKSA9PiB7XG4gIGl0KCdpZGVudGlmaWVyJywgKCkgPT4ge1xuICAgIGNvbnN0IGlkID0gbmV3IElkZW50aWZpZXIoe1xuICAgICAgZW1waXJlOiAnY29tcGFueScsXG4gICAgICBraW5nZG9tOiAnZGVwZXJ0bWVudCcsXG4gICAgICBkaXZpc2lvbjogJ3Byb2plY3QnLFxuICAgICAgc2VjdGlvbjogJ2Vudmlyb25tZW50JyxcbiAgICAgIGxlZ2lvbjogJ3VzYWdlMScsXG4gICAgICBjb2hvcnQ6ICd1c2FnZTInLFxuICAgIH0pO1xuICAgIFJhbmsuREVGQVVMVF9TVEFSVF9MT0MgPSBSYW5rTG9jLkxlZ2lvbjtcbiAgICBleHBlY3QoaWQuc3RhY2tJZCkudG9CZSgnVXNhZ2UxVXNhZ2UyJyk7XG4gICAgZXhwZWN0KCgpID0+IHsgcmV0dXJuIGlkLmNvbnN0cnVjdElkOyB9KS50b1Rocm93KCk7XG5cbiAgICBpZC5jaGlsZCh7ZmFtaWx5OiAnd2ViYXBwJ30pLnNjb3BlKChpZDogSWRlbnRpZmllcikgPT4ge1xuICAgICAgZXhwZWN0KGlkLnN0YWNrSWQpLnRvQmUoJ1VzYWdlMVVzYWdlMldlYmFwcCcpO1xuICAgICAgZXhwZWN0KCgpID0+IHsgcmV0dXJuIGlkLmNvbnN0cnVjdElkOyB9KS50b1Rocm93KCk7XG4gICAgICBleHBlY3QoaWQuZXhwb3J0TmFtZSgnTmFtZScpKS50b0JlKCdVc2FnZTFVc2FnZTJXZWJhcHA6TmFtZScpO1xuXG4gICAgICBpZC5jaGlsZCgnY29uc3RydWN0Jykuc2NvcGUoKGlkOiBJZGVudGlmaWVyKSA9PiB7XG4gICAgICAgIGV4cGVjdChpZC5zdGFja0lkKS50b0JlKCdVc2FnZTFVc2FnZTJXZWJhcHAnKTtcbiAgICAgICAgZXhwZWN0KGlkLmNvbnN0cnVjdElkKS50b0JlKFwiQ29uc3RydWN0XCIpO1xuICAgICAgICBleHBlY3QoaWQuZXhwb3J0TmFtZSgnTmFtZScpKS50b0JlKCdVc2FnZTFVc2FnZTJXZWJhcHA6Q29uc3RydWN0Ok5hbWUnKTtcbiAgICAgIH0pO1xuICAgIH0pO1xuICB9KTtcbn0pO1xuIl19